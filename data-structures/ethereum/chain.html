<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ethereum Chain Data Structures | IPLD Specifications</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Specifications for the Inter-planetary Linked Data project">
    
    <link rel="preload" href="/assets/css/0.styles.1c4fef16.css" as="style"><link rel="preload" href="/assets/js/app.55cc3367.js" as="script"><link rel="preload" href="/assets/js/2.96818e99.js" as="script"><link rel="preload" href="/assets/js/33.fbfe27f7.js" as="script"><link rel="prefetch" href="/assets/js/10.e0910ffc.js"><link rel="prefetch" href="/assets/js/100.d31ed863.js"><link rel="prefetch" href="/assets/js/101.c8ff9f03.js"><link rel="prefetch" href="/assets/js/102.fc3f4ae8.js"><link rel="prefetch" href="/assets/js/103.25aff802.js"><link rel="prefetch" href="/assets/js/11.3f3bc545.js"><link rel="prefetch" href="/assets/js/12.676e7c2d.js"><link rel="prefetch" href="/assets/js/13.b0e00597.js"><link rel="prefetch" href="/assets/js/14.52c67ef7.js"><link rel="prefetch" href="/assets/js/15.dcb1329a.js"><link rel="prefetch" href="/assets/js/16.848e6fc4.js"><link rel="prefetch" href="/assets/js/17.c04e6548.js"><link rel="prefetch" href="/assets/js/18.12b988d0.js"><link rel="prefetch" href="/assets/js/19.92e650d3.js"><link rel="prefetch" href="/assets/js/20.21568369.js"><link rel="prefetch" href="/assets/js/21.a802ab5e.js"><link rel="prefetch" href="/assets/js/22.9cf052f1.js"><link rel="prefetch" href="/assets/js/23.3c2e5ccb.js"><link rel="prefetch" href="/assets/js/24.6a0155b3.js"><link rel="prefetch" href="/assets/js/25.6a47fc00.js"><link rel="prefetch" href="/assets/js/26.c66f2228.js"><link rel="prefetch" href="/assets/js/27.8c8f7528.js"><link rel="prefetch" href="/assets/js/28.0247ae1c.js"><link rel="prefetch" href="/assets/js/29.793a05c2.js"><link rel="prefetch" href="/assets/js/3.36097cd3.js"><link rel="prefetch" href="/assets/js/30.a34335d4.js"><link rel="prefetch" href="/assets/js/31.5f41922b.js"><link rel="prefetch" href="/assets/js/32.3fee247c.js"><link rel="prefetch" href="/assets/js/34.47a13643.js"><link rel="prefetch" href="/assets/js/35.e7415f8a.js"><link rel="prefetch" href="/assets/js/36.fee5b464.js"><link rel="prefetch" href="/assets/js/37.10e01e19.js"><link rel="prefetch" href="/assets/js/38.04fc5802.js"><link rel="prefetch" href="/assets/js/39.aae1d766.js"><link rel="prefetch" href="/assets/js/4.086d7549.js"><link rel="prefetch" href="/assets/js/40.fcee5071.js"><link rel="prefetch" href="/assets/js/41.04d9698c.js"><link rel="prefetch" href="/assets/js/42.45f66dfb.js"><link rel="prefetch" href="/assets/js/43.040748e0.js"><link rel="prefetch" href="/assets/js/44.b8b09a1e.js"><link rel="prefetch" href="/assets/js/45.86ca7926.js"><link rel="prefetch" href="/assets/js/46.9ad505fe.js"><link rel="prefetch" href="/assets/js/47.646fac78.js"><link rel="prefetch" href="/assets/js/48.001a0320.js"><link rel="prefetch" href="/assets/js/49.9a8421a9.js"><link rel="prefetch" href="/assets/js/5.9ba6a44f.js"><link rel="prefetch" href="/assets/js/50.f8825962.js"><link rel="prefetch" href="/assets/js/51.6a929e3d.js"><link rel="prefetch" href="/assets/js/52.ae8a08cd.js"><link rel="prefetch" href="/assets/js/53.425adba7.js"><link rel="prefetch" href="/assets/js/54.6890508c.js"><link rel="prefetch" href="/assets/js/55.9b5b35ed.js"><link rel="prefetch" href="/assets/js/56.9b8008d2.js"><link rel="prefetch" href="/assets/js/57.ca102c36.js"><link rel="prefetch" href="/assets/js/58.792296fb.js"><link rel="prefetch" href="/assets/js/59.897e879d.js"><link rel="prefetch" href="/assets/js/6.57d5496c.js"><link rel="prefetch" href="/assets/js/60.608adad1.js"><link rel="prefetch" href="/assets/js/61.94430c1f.js"><link rel="prefetch" href="/assets/js/62.0ecb4799.js"><link rel="prefetch" href="/assets/js/63.c645236d.js"><link rel="prefetch" href="/assets/js/64.1d3a3c22.js"><link rel="prefetch" href="/assets/js/65.84914602.js"><link rel="prefetch" href="/assets/js/66.578bb489.js"><link rel="prefetch" href="/assets/js/67.e3429d6d.js"><link rel="prefetch" href="/assets/js/68.b4954ecd.js"><link rel="prefetch" href="/assets/js/69.ae3c0c4e.js"><link rel="prefetch" href="/assets/js/7.ebf22d36.js"><link rel="prefetch" href="/assets/js/70.67b94964.js"><link rel="prefetch" href="/assets/js/71.b00a1105.js"><link rel="prefetch" href="/assets/js/72.1e3b9c6b.js"><link rel="prefetch" href="/assets/js/73.1272fe32.js"><link rel="prefetch" href="/assets/js/74.6a5ff7ce.js"><link rel="prefetch" href="/assets/js/75.cfc4aa47.js"><link rel="prefetch" href="/assets/js/76.11e28173.js"><link rel="prefetch" href="/assets/js/77.73404303.js"><link rel="prefetch" href="/assets/js/78.d9f1907f.js"><link rel="prefetch" href="/assets/js/79.d947ec0f.js"><link rel="prefetch" href="/assets/js/8.e0b80a95.js"><link rel="prefetch" href="/assets/js/80.517eb7ee.js"><link rel="prefetch" href="/assets/js/81.9263b4ee.js"><link rel="prefetch" href="/assets/js/82.b20cd4cb.js"><link rel="prefetch" href="/assets/js/83.66b13524.js"><link rel="prefetch" href="/assets/js/84.6d034af5.js"><link rel="prefetch" href="/assets/js/85.3daffd1b.js"><link rel="prefetch" href="/assets/js/86.01c374bf.js"><link rel="prefetch" href="/assets/js/87.ea937d8b.js"><link rel="prefetch" href="/assets/js/88.ae609d5f.js"><link rel="prefetch" href="/assets/js/89.904cfa08.js"><link rel="prefetch" href="/assets/js/9.21c877b7.js"><link rel="prefetch" href="/assets/js/90.3b12d949.js"><link rel="prefetch" href="/assets/js/91.e39d0966.js"><link rel="prefetch" href="/assets/js/92.e8f52a99.js"><link rel="prefetch" href="/assets/js/93.57e0cde8.js"><link rel="prefetch" href="/assets/js/94.5705b8ef.js"><link rel="prefetch" href="/assets/js/95.4cff216d.js"><link rel="prefetch" href="/assets/js/96.bb6187cd.js"><link rel="prefetch" href="/assets/js/97.1e675122.js"><link rel="prefetch" href="/assets/js/98.da60c7e1.js"><link rel="prefetch" href="/assets/js/99.23352395.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1c4fef16.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">IPLD Specifications</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/schemas/" class="nav-link">
  IPLD Schemas
</a></div> <a href="https://github.com/ipld/specs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/schemas/" class="nav-link">
  IPLD Schemas
</a></div> <a href="https://github.com/ipld/specs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Ethereum Chain Data Structures</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/data-structures/ethereum/chain.html#header-ipld" class="sidebar-link">Header IPLD</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/data-structures/ethereum/chain.html#uncles-ipld" class="sidebar-link">Uncles IPLD</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/data-structures/ethereum/chain.html#transaction-ipld" class="sidebar-link">Transaction IPLD</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/data-structures/ethereum/chain.html#receipt-ipld" class="sidebar-link">Receipt IPLD</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ethereum-chain-data-structures"><a href="#ethereum-chain-data-structures" class="header-anchor">#</a> Ethereum Chain Data Structures</h1> <p>This section contains the IPLD schemas for the blockchain data structures of Ethereum.
This includes: headers, uncle sets, transactions, and receipts. The state trie, storage trie,
receipt trie, and transaction trie IPLDs are described in the <a href="/data-structures/ethereum/state.html">state</a> section. It
is important to note that traversal from header to a specific transaction or receipt requires traversal
across their respective tries beginning at the root referenced in the header. Alternatively, uncles are referenced
directly from the header by the hash of the RLP encoded list of uncles.</p> <h2 id="header-ipld"><a href="#header-ipld" class="header-anchor">#</a> Header IPLD</h2> <p>This is the IPLD schema for a canonical Ethereum block header.</p> <ul><li>The IPLD block is the RLP encoded header</li> <li>Links to headers use a KECCAK_256 mutlihash of the RLP encoded header and the EthHeader codec (0x90).</li> <li>Parent headers are referenced back to by their child header.</li> <li>The genesis header is unique in that it does not reference a parent header in <code>ParentCID</code>, instead it contains a reference to a <code>GenesisInfo</code> ADL.</li></ul> <div class="language-ipldsch extra-class"><pre class="language-ipldsch"><code><span class="token comment"># Header contains the consensus fields of an Ethereum block header</span>
<span class="token typedef"><span class="token keyword">type</span> <span class="token class-name">Header</span></span> <span class="token builtin">struct</span> <span class="token punctuation">{</span>
    <span class="token comment"># CID link to the parent header</span>
    <span class="token comment"># This CID is composed of the KECCAK_256 multihash of the linked RLP encoded header and the EthHeader codec (0x90)</span>
    ParentCID <span class="token punctuation">&amp;</span>Header
    
    <span class="token comment"># CID link to the list of uncles at this block</span>
    <span class="token comment"># This CID is composed of the KECCAK_256 multihash of the RLP encoded list of Uncles and the EthHeaderList codec (0x91)</span>
    <span class="token comment"># Note that an uncle is simply a header that does not have an associated body</span>
    UnclesCID <span class="token punctuation">&amp;</span>Uncles
    Coinbase Address
    
    <span class="token comment"># CID link to the root node of the state trie</span>
    <span class="token comment"># This CID is composed of the KECCAK_256 multhash of the RLP encoded state trie root node and the EthStateTrie codec (0x96)</span>
    <span class="token comment"># This steps us down into the state trie, from which we can link to the rest of the state trie nodes and all the linked storage tries</span>
    StateRootCID <span class="token punctuation">&amp;</span>StateTrieNode
    
    <span class="token comment"># CID link to the root node of the transaction trie</span>
    <span class="token comment"># This CID is composed of the KECCAK_256 multihash of the RLP encoded tx trie root node and the EthTxReceiptTrie codec (0x92)</span>
    <span class="token comment"># This steps us down into the transaction trie, from which we can link to the rest of the tx trie nodes and all of the linked transactions</span>
    TxRootCID <span class="token punctuation">&amp;</span>TxTrieNode
    
    <span class="token comment"># CID link to the root of the receipt trie</span>
    <span class="token comment"># This CID is composed of the KECCAK_256 multihash of the RLP encoded rct trie root node and the EthTxReceiptTrie codec (0x94)</span>
    <span class="token comment"># This steps us down into the receipt trie, from which we can link to the rest of the rct trie nodes and all of the linked receipts</span>
    RctRootCID <span class="token punctuation">&amp;</span>RctTrieNode
    
    Bloom Bloom
    Difficulty BigInt
    Number BigInt
    GasLimit Uint
    GasUser Uint
    Time Uint
    Extra Bytes
    MixDigest Hash
    Nonce BlockNonce
<span class="token punctuation">}</span>
</code></pre></div><h2 id="uncles-ipld"><a href="#uncles-ipld" class="header-anchor">#</a> Uncles IPLD</h2> <p>This is the IPLD schema for a list of uncles ordered in ascending order by their block number.</p> <ul><li>The IPLD block is the RLP encoded list of uncles</li> <li>CID links to <code>UncleList</code> use a KECCAK_256 multihash of the RLP encoded list and the EthHeaderList codec (0x92).</li> <li>The <code>Uncles</code> is referenced in an Ethereum <code>Header</code> by the <code>UnclesCID</code>.</li></ul> <div class="language-ipldsch extra-class"><pre class="language-ipldsch"><code><span class="token comment"># Uncles contains an ordered list of Ethereum uncles (headers that have no associated body)</span>
<span class="token comment"># This IPLD object is referenced by a CID composed of the KECCAK_256 multihash of the RLP encoded list and the EthHeaderList codec (0x91)</span>
<span class="token typedef"><span class="token keyword">type</span> <span class="token class-name">Uncles</span></span> <span class="token punctuation">[</span>Header<span class="token punctuation">]</span>
</code></pre></div><h2 id="transaction-ipld"><a href="#transaction-ipld" class="header-anchor">#</a> Transaction IPLD</h2> <p>This is the IPLD schema for a canonical Ethereum transaction. It contains only the fields required for consensus.
Note that this will need to be updated once EIP-1559 and EIP-2718 are approved.</p> <ul><li>The IPLD block is the RLP encoded transaction</li> <li>CID links to <code>Transaction</code> use a KECCAK_256 multihash of the RLP encoded transaction and the EthTx codec (0x93).</li> <li><code>Transaction</code> IPLDs are not referenced directly from an <code>Ethereum</code> header but are instead linked to from within the transaction trie whose root is referenced in the <code>Header</code> by the <code>TxRootCID</code>.</li></ul> <div class="language-ipldsch extra-class"><pre class="language-ipldsch"><code><span class="token comment"># Transaction contains the consensus fields of an Ethereum transaction</span>
<span class="token typedef"><span class="token keyword">type</span> <span class="token class-name">Transaction</span></span> <span class="token builtin">struct</span> <span class="token punctuation">{</span>
    AccountNonce Uint
    Price        BigInt
    GasLimit     Uint
    Recipient    <span class="token keyword">nullable</span> Address <span class="token comment"># null recipient means the tx is a contract creation</span>
    Amount       BigInt
    Payload      Bytes
    
    <span class="token comment"># Signature values</span>
    V            BigInt
    R            BigInt
    S            BigInt
<span class="token punctuation">}</span>
</code></pre></div><h2 id="receipt-ipld"><a href="#receipt-ipld" class="header-anchor">#</a> Receipt IPLD</h2> <p>This is the IPLD schema for a canonical Ethereum receipt. It contains only the fields required for consensus.</p> <ul><li>The IPLD block is the RLP encoded receipt</li> <li>CID links to <code>Receipt</code> use a KECCAK_256 multihash of the RLP encoded receipt and the EthTxReceipt codec (0x95).</li> <li><code>Receipt</code> IPLDs are not referenced directly from an <code>Ethereum</code> header but are instead linked to from within the receipt trie whose root is referenced in the <code>Header</code> by the <code>RctRootCID</code>.</li></ul> <div class="language-ipldsch extra-class"><pre class="language-ipldsch"><code><span class="token comment"># Receipt contains the consensus fields of an Ethereum receipt</span>
<span class="token typedef"><span class="token keyword">type</span> <span class="token class-name">Receipt</span></span> <span class="token builtin">struct</span> <span class="token punctuation">{</span>
    PostStateOrStatus Bytes
    CumulativeGasUsed Uint
    Bloom             Bloom
    Logs              <span class="token punctuation">[</span>Log<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment"># Log contains the consensus fields of an Etherem receipt log</span>
<span class="token typedef"><span class="token keyword">type</span> <span class="token class-name">Log</span></span> <span class="token builtin">struct</span> <span class="token punctuation">{</span>
    Address Address
    Topics  <span class="token punctuation">[</span>Hash<span class="token punctuation">]</span>
    Data    Bytes
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ipld/specs/edit/master/data-structures/ethereum/chain.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/4/2021, 3:17:25 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.55cc3367.js" defer></script><script src="/assets/js/2.96818e99.js" defer></script><script src="/assets/js/33.fbfe27f7.js" defer></script>
  </body>
</html>
